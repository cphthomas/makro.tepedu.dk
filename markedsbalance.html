<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="UTF-8">
    <title>Markedsligevægt - Mikroøkonomi</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@100;300;400;500;700&family=Space+Grotesk:wght@400;500;700&family=IBM+Plex+Mono:wght@100;400;500&family=Roboto:wght@100;300;400;500;700&display=swap"
        rel="stylesheet">
    <!-- MDB CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@0.7.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@0.5.5/chartjs-plugin-annotation.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="favicon.svg">
    <link rel="stylesheet" href="podcast-player-modern.css">
    <style>
        /* Custom styles for tables with hover effect */
        .table-hover tbody tr:hover {
            background-color: #f5f5f5;
            /* Light gray on hover */
            cursor: pointer;
        }

        /* Ensure video respects container width and white background */
        .book-cover-wrapper {
            position: relative;
            width: 100%;
            max-width: 100%;
            overflow: hidden;
            background-color: white;
        }

        .book-cover-wrapper video {
            width: 100%;
            height: auto;
            max-width: 100%;
            display: block;
            background-color: white;
        }

        /* Ensure text overlay stays above white background */
        .cover-text-overlay {
            z-index: 2;
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand navbar-light transparent-navbar fixed-top">
        <div class="container-fluid">
            <!-- Logo and link -->
            <a href="https://tepedu.dk/" target="_blank" rel="noopener noreferrer">
                <img src="tepedulogoanim.svg" alt="Te Pedu Logo" style="height: 35px; margin-right: 15px;">
            </a>
            <!-- Left-aligned Home Icon -->
            <a class="navbar-brand" href="index.html">
                <i class="bi bi-house-door"></i>
            </a>

            <!-- Right-aligned Navbar Items -->
            <ul class="navbar-nav ml-auto align-items-center">
                <!-- Dropdown Menu for Pages -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="bi bi-list icon-margin"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                        <!-- Menu items will be generated by menu.js -->
                    </div>
                </li>

                <!-- Left Arrow Icon (Previous Page) -->
                <li class="nav-item">
                    <a class="nav-link" id="prev-page-link" href="#">
                        <i class="bi bi-arrow-left"></i>
                    </a>
                </li>

                <!-- Right Arrow Icon (Next Page) -->
                <li class="nav-item">
                    <a class="nav-link" id="next-page-link" href="#">
                        <i class="bi bi-arrow-right"></i>
                    </a>
                </li>
            </ul>
        </div>
    </nav>


    <!-- Page Content -->
    <div class="content">
        <div class="container mt-4">
            <article>
                <h1 style="display: none;">Markedsligevægt</h1>
                <div class="book-cover-wrapper">
                    <video autoplay muted playsinline src="FRONT/Video/front3.mp4" alt="Markedsligevægt i Mikroøkonomi"
                        class="img-fluid" width="100%" style="max-height: 400px; object-fit: cover;"></video>
                    <div class="cover-text-overlay animate-cover-text" data-type-text="5. Markedsligevægt"
                        data-type-speed="150">5. Markedsligevægt</div>
                </div>
                <div class="info-box">
                    <p>Markedsligevægt er et centralt begreb inden for mikroøkonomi, der beskriver en tilstand, hvor
                        udbud og efterspørgsel på et marked er i balance. Ved ligevægtsprisen er den mængde, forbrugerne
                        ønsker at købe, præcis lig med den mængde, producenterne ønsker at sælge. Dette punkt er
                        afgørende for at forstå, hvordan priser og mængder bestemmes i en markedsøkonomi.</p>

                    <h4>Hvad er markedsligevægt?</h4>
                    <ul>
                        <li><b>Definition:</b> En tilstand hvor udbudt mængde er lig efterspurgt mængde.</li>
                        <li><b>Ligevægtspris:</b> Den pris hvor udbud og efterspørgsel mødes.</li>
                        <li><b>Ligevægtsmængde:</b> Den mængde der handles ved ligevægtsprisen.</li>
                        <li><b>Effektivitet:</b> Ved ligevægt er markedet ofte effektivt, hvilket maksimerer den samlede
                            samfundsmæssige gevinst (forbruger- og producentoverskud).</li>
                    </ul>

                    <p>I dette kapitel ser vi på:</p>
                    <ul>
                        <li>Hvordan markedsligevægten bestemmes matematisk og grafisk.</li>
                        <li>Hvad der sker, når markedet ikke er i ligevægt (overskud og mangel).</li>
                        <li>Hvordan ændringer i udbud og efterspørgsel påvirker ligevægten.</li>
                        <li>Begreberne forbrugeroverskud, producentoverskud og dødvægtstab.</li>
                    </ul>
                </div>

                <div class="podcast-player-modern">
                    <div class="podcast-header">
                        <h3 class="podcast-title-modern">Lyt til podcast om kapitlet</h3>
                        <i class="bi bi-broadcast-pin podcast-icon"></i>
                    </div>
                    <audio src="podcast/mikro3.m4a"></audio> <!-- Placeholder for actual podcast file -->
                    <div class="waveform-container"></div>
                    <div class="progress-bar-container">
                        <div class="progress-bar"></div>
                    </div>
                    <div class="podcast-footer">
                        <div class="time-display">
                            <span class="current-time">0:00</span>
                        </div>
                        <div class="podcast-controls-modern">
                            <button class="control-button play-pause-button"><i class="bi bi-play-fill"></i></button>
                            <button class="control-button speed-control-modern"><span
                                    class="speed-text">1.0x</span></button>
                        </div>
                    </div>
                </div>
                <br>

                <h2>Bestemmelse af markedsligevægt</h2>
                <div class="info-box">
                    <p>Markedsligevægten findes der, hvor efterspørgselskurven og udbudskurven skærer hinanden. Dette
                        punkt repræsenterer den pris og mængde, hvor både købere og sælgere er tilfredse, og der hverken
                        er overskud eller mangel på markedet.</p>

                    <h4>Efterspørgselsfunktion:</h4>
                    <div>
                        <p><b>P = b - aX</b></p>
                        <p>Hvor:</p>
                        <ul style="margin-left: 20px;">
                            <li>P = pris</li>
                            <li>X = efterspurgt mængde</li>
                            <li>b = skæring med Y-aksen (maksimal betalingsvillighed)</li>
                            <li>a = hældningskoefficient (negativ)</li>
                        </ul>
                    </div>

                    <h4>Udbudsfunktion:</h4>
                    <div>
                        <p><b>P = c + dX</b></p>
                        <p>Hvor:</p>
                        <ul style="margin-left: 20px;">
                            <li>P = pris</li>
                            <li>X = udbudt mængde</li>
                            <li>c = skæring med Y-aksen (minimumspris for produktion)</li>
                            <li>d = hældningskoefficient (positiv)</li>
                        </ul>
                    </div>

                    <h4>Ligevægtsberegning</h4>
                    <p>For at finde ligevægten sætter vi efterspørgsel lig udbud:</p>

                    <div>
                        <h5>Trin 1: Sæt funktionerne lig hinanden</h5>
                        <p style="font-family: 'Courier New', monospace; font-size: 16px;">
                            <b>b - aX = c + dX</b>
                        </p>

                        <h5>Trin 2: Saml X-leddene</h5>
                        <p style="font-family: 'Courier New', monospace; font-size: 16px;">
                            <b>b - c = aX + dX</b><br>
                            <b>b - c = (a + d)X</b>
                        </p>

                        <h5>Trin 3: Isolér X</h5>
                        <p style="font-family: 'Courier New', monospace; font-size: 16px;">
                            <b> (b - c) / (a + d) = X</b>
                        </p>

                        <h5>Trin 4: Beregn P</h5>
                        <p style="font-family: 'Courier New', monospace; font-size: 16px;">
                            <b>P = b - aX</b> (eller <b>P = c + dX</b>)
                        </p>
                    </div>

                    <h4>Praktisk eksempel: Cafe latte marked</h4>
                    <p>Lad os anvende de funktioner, der blev introduceret i kapitlerne om efterspørgsel og udbud, på
                        cafe latte markedet:</p>

                    <div>
                        <p><b>Efterspørgsel:</b> P = -0,5X + 100</p>
                        <p><b>Udbud:</b> P = 0,5X + 20</p>
                    </div>

                    <h5>Ligevægtsberegning:</h5>
                    <div>
                        <p><b>Trin 1:</b> Sæt efterspørgsel lig udbud:</p>
                        <p style="font-family: 'Courier New', monospace; font-size: 16px;">
                            -0,5X + 100 = 0,5X + 20
                        </p>
                        <p><b>Trin 2:</b> Saml X-termer på den ene side og konstanter på den anden:</p>
                        <p style="font-family: 'Courier New', monospace; font-size: 16px;">
                            100 - 20 = 0,5X + 0,5X<br>
                            80 = 1X
                        </p>
                        <p><b>Trin 3:</b> Isolér X (ligevægtsmængden):</p>
                        <p style="font-family: 'Courier New', monospace; font-size: 16px;">
                            <b>X = 80 kopper</b>
                        </p>
                        <p><b>Trin 4:</b> Indsæt ligevægtsmængden (X=80) i enten efterspørgsels- eller udbudsfunktionen
                            for at finde ligevægtsprisen:</p>
                        <p style="font-family: 'Courier New', monospace; font-size: 16px;">
                            P = -0,5 × 80 + 100 = -40 + 100 = <b>60 kr.</b> (ved brug af efterspørgselsfunktionen)<br>
                            P = 0,5 × 80 + 20 = 40 + 20 = <b>60 kr.</b> (ved brug af udbudsfunktionen)
                        </p>
                    </div>
                    <p>Ligevægtsprisen for en cafe latte er altså 60 kr., og ligevægtsmængden er 80 kopper.</p>


                    <div class="chart-container"
                        style="position: relative; height:50vh; width:100%; margin: 20px auto; text-align: center;">
                        <canvas id="plot"></canvas>
                    </div>


                    <small>
                        <p>Figur 5.1: Markedsligevægt for cafe latte. Efterspørgselskurven (rød) og udbudskurven (blå)
                            skærer hinanden ved en pris på 60 kr. og en mængde på 80 kopper, hvilket indikerer
                            markedsligevægten.</p>
                    </small>
                </div>
                <br><br>



                <h2>Ligevægtsprocessen</h2>
                <div class="info-box">
                    <p>Markedet har en naturlig tendens til at bevæge sig mod ligevægt. Hvis prisen er for høj eller for
                        lav,
                        vil markedskræfterne (udbud og efterspørgsel) automatisk justere prisen, indtil ligevægten er
                        genoprettet.</p>

                    <h4>Pris over ligevægt (Overskydende udbud)</h4>
                    <ul>
                        <li>Hvis prisen er højere end ligevægtsprisen, vil den udbudte mængde overstige den efterspurgte
                            mængde.
                            Dette skaber et <b>overskud</b> af varer på markedet.</li>
                        <li>Producenterne vil have usolgte varer og vil derfor være nødt til at sænke prisen for at
                            afsætte
                            deres overskydende lager. I vores eksempel vil café-ejerne opleve at barista-medarbejderne
                            står og keder sig og ekspresso maksinerne ikke udnyttes fuldt ud.
                            De vil derfor sænke prisen fra 80 kr. til 60 kr. for at sælge overskydende kopper.</li>
                        <li>Når prisen falder, vil efterspørgslen stige, og udbuddet falde, indtil ligevægten er nået.
                        </li>
                    </ul>
                    <hr>
                    <div class="chart-container"
                        style="position: relative; height:50vh; width:100%; margin: 20px auto; text-align: center;">
                        <canvas id="plot4"></canvas>
                    </div>
                    <small>
                        <p>Figur 5.2: En pris på 80 kr. over ligevægten på 60 kr. og en mængde på 80 kopper, betyder
                            udbuddet er 120 stk. mens efterspørgslen kun er 40 stk.
                            dette er illustreret med den stipplede linje i figuren ovenfor. Afsætningen af cafe latte
                            vil derfor kun være 40 kopper. </p>
                    </small>


                    <h4>Pris under ligevægt (Mangel)</h4>
                    <ul>
                        <li>Hvis prisen er lavere end ligevægtsprisen, vil den efterspurgte mængde overstige den udbudte
                            mængde.
                            Dette skaber en <b>mangel</b> på varer på markedet.</li>
                        <li>Forbrugerne vil konkurrere om de få tilgængelige varer, hvilket presser prisen op.</li>
                        <li>Når prisen stiger, vil efterspørgslen falde, og udbuddet stige, indtil ligevægten er nået.
                        </li>
                    </ul>


                    <hr>
                    <div class="chart-container"
                        style="position: relative; height:50vh; width:100%; margin: 20px auto; text-align: center;">
                        <canvas id="plot5"></canvas>
                    </div>
                    <small>
                        <p>Figur 5.3: En pris på 40 kr. under ligevægten på 60 kr. og en mængde på 80 kopper, betyder
                            udbuddet er 40 kopper stk. mens efterspørgslen er 120 stk.
                            dette er illustreret med den stipplede linje i figuren ovenfor. Afsætningen af cafe latte
                            vil derfor kun være 40 kopper, da der ikke udbydes flere kopper.</p>
                    </small>
                    <h4>Ligevægt</h4>
                    <ul>
                        <li>Ved ligevægtsprisen er der ingen tendens til prisændringer, da udbud og efterspørgsel er i
                            balance.
                        </li>
                        <li>Alle, der ønsker at købe til ligevægtsprisen, kan gøre det, og alle, der ønsker at sælge til
                            ligevægtsprisen, kan gøre det.</li>
                    </ul>

                    <h4>Eksempler på markedsjusteringer</h4>
                    <div class="table-responsive mb-4">
                        <table class="table table-striped table-bordered table-hover">
                            <thead class="table-dark">
                                <tr>
                                    <th>Marked</th>
                                    <th>Ubalance</th>
                                    <th>Markedsreaktion</th>
                                    <th>Resultat</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><b>Cafe latte</b></td>
                                    <td>Pris på 80 kr. (overskud)</td>
                                    <td>Caféer sænker prisen for at sælge overskydende kopper.</td>
                                    <td>Prisen falder mod 60 kr., mængden stiger mod 80 kopper.</td>
                                </tr>
                                <tr>
                                    <td><b>Cafe latte</b></td>
                                    <td>Pris på 40 kr. (mangel)</td>
                                    <td>Forbrugere byder prisen op for at få kaffe.</td>
                                    <td>Prisen stiger mod 60 kr., mængden falder mod 80 kopper.</td>
                                </tr>
                                <tr>
                                    <td><b>Boligmarked</b></td>
                                    <td>For få boliger til salg (mangel)</td>
                                    <td>Købere byder prisen op, byggeriet øges på lang sigt.</td>
                                    <td>Boligpriser stiger, flere boliger bygges, boligmarkedet er specielt så dette vil
                                        være en langvarig proces.</td>
                                </tr>
                                <tr>
                                    <td><b>Arbejdsmarked (IT-specialister)</b></td>
                                    <td>Mangel på IT-specialister</td>
                                    <td>Lønninger stiger, flere uddanner sig til IT.</td>
                                    <td>Lønninger stabiliseres, udbud af IT-specialister stiger.</td>
                                </tr>
                                <tr>
                                    <td><b>Elmarked (peak timer)</b></td>
                                    <td>Høj efterspørgsel om aftenen (mangel)</td>
                                    <td>Elpriser stiger markant i peak timer.</td>
                                    <td>Forbrugere flytter forbrug til billigere timer, udbud øges.</td>
                                </tr>
                                <tr>
                                    <td><b>Historisk prisregulering (New York Rent Control)</b></td>
                                    <td>Huslejekontrol i New York City fra 1943, hvor der blev sat et prisloft på lejeboliger.</td>
                                    <td>Resulterede i mangel på lejeboliger, forfald af ejendomme, og et sort marked for boliger, da udlejere ikke havde incitament til at vedligeholde eller udbyde nye boliger.</td>
                                </tr>
                                <tr>
                                    <td><b>Overproduktion (EF Smørbjerge)</b></td>
                                    <td>EU's landbrugsstøttepolitik i 1970'erne og 80'erne, hvor der blev garanteret høje priser til landmænd, hvilket førte til overproduktion af smør og mælk.</td>
                                    <td>Lagre af usolgte varer, spild af ressourcer, kunstigt lave priser for forbrugere, og forvreden konkurrence på verdensmarkedet.</td>
                                </tr>
                                <tr>
                                    <td><b>Monopoler (Microsoft i 90'erne)</b></td>
                                    <td>Microsofts næsten fulde dominans på styresystemsystemmarkedet med Windows i 1990'erne, hvilket begrænsede konkurrence og innovation.</td>
                                    <td>Højere priser for software, mindre innovation, begrænset valg for forbrugere, og et dødvægtstab da markedet ikke var effektivt.</td>
                                </tr>
                                <tr>
                                    <td><b>Skatter og afgifter</b></td>
                                    <td>Moms på varer, punktafgifter på tobak/alkohol, der øger prisen for forbrugere.</td>
                                    <td>Højere priser for forbrugere, lavere mængde handles, og et dødvægtstab fordi færre handler finder sted end i et ureguleret marked.</td>
                                </tr>
                                <tr>
                                    <td><b>Eksterne effekter</b></td>
                                    <td>Forurening fra industriproduktion, hvor omkostningerne ikke bæres af producenten, eller uddannelse, hvor samfundet drager fordel ud over den enkelte.</td>
                                    <td>Markedet producerer for meget af forurenende varer (negativ eksternalitet) eller for lidt af gavnlige varer (positiv eksternalitet), hvilket fører til ineffektiv ressourceallokering.</td>
                                </tr>
                                <tr>
                                    <td><b>Asymmetrisk information</b></td>
                                    <td>Sælgeren har mere information om produktets kvalitet end køberen (f.eks. brugte biler, forsikring).</td>
                                    <td>Ineffektive handler eller markedet kan kollapse, hvis købere trækker sig tilbage på grund af usikkerhed, hvilket resulterer i et dødvægtstab.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <br><br>

                <h2>Faktorer der påvirker markedsligevægten</h2>
                <div class="info-box">
                    <p>Markedsligevægten er ikke statisk; den ændrer sig konstant som følge af forskydninger i
                        efterspørgsels-
                        og udbudskurverne. Disse forskydninger skyldes ændringer i de faktorer, der påvirker henholdsvis
                        efterspørgsel og udbud, udover prisen på selve varen.</p>

                    <h4>Forskydning af efterspørgselskurven</h4>
                    <p>Efterspørgselskurven forskydes, når der sker ændringer i:</p>
                    <ul>
                        <li><b>Forbrugernes indkomst:</b> Stigning i indkomst øger efterspørgslen efter normale varer
                            (kurven
                            forskydes til højre) og mindsker efterspørgslen efter inferiøre varer (kurven forskydes til
                            venstre).</li>
                        <li><b>Priser på relaterede varer:</b>
                            <ul>
                                <li><b>Substitutter:</b> Prisstigning på en substitut øger efterspørgslen efter den
                                    oprindelige
                                    vare (f.eks. dyrere te øger efterspørgslen efter kaffe).</li>
                                <li><b>Komplementer:</b> Prisstigning på et komplement mindsker efterspørgslen efter den
                                    oprindelige vare (f.eks. dyrere kage mindsker efterspørgslen efter kaffe).</li>
                            </ul>
                        </li>
                        <li><b>Smag og præferencer:</b> Ændringer i mode, trends eller forbrugerpræferencer kan øge
                            eller
                            mindske efterspørgslen.</li>
                        <li><b>Forventninger:</b> Forventninger om fremtidige prisændringer eller indkomstændringer kan
                            påvirke
                            den nuværende efterspørgsel.</li>
                        <li><b>Antal købere:</b> En stigning i antallet af potentielle købere øger efterspørgslen.</li>
                    </ul>

                    <h4>Forskydning af udbudskurven</h4>
                    <p>Udbudskurven forskydes, når der sker ændringer i:</p>
                    <ul>
                        <li><b>Produktionsomkostninger:</b> Stigning i råvarepriser eller lønninger mindsker udbuddet
                            (kurven
                            forskydes til venstre). Fald i omkostninger øger udbuddet (kurven forskydes til højre).</li>
                        <li><b>Teknologi:</b> Forbedret teknologi reducerer produktionsomkostningerne og øger udbuddet
                            (kurven
                            forskydes til højre).</li>
                        <li><b>Antal sælgere:</b> En stigning i antallet af producenter øger udbuddet.</li>
                        <li><b>Forventninger:</b> Forventninger om fremtidige prisændringer kan påvirke det nuværende
                            udbud.
                        </li>
                        <li><b>Offentlig politik:</b> Skatter og subsidier kan påvirke udbuddet. En skat mindsker
                            udbuddet, et
                            subsidie øger det.</li>
                    </ul>

                    <h4>Eksempler på forskydninger og ny ligevægt</h4>
                    <div class="table-responsive mb-4">
                        <table class="table table-striped table-bordered table-hover">
                            <thead class="table-dark">
                                <tr>
                                    <th>Situation</th>
                                    <th>Effekt på kurver</th>
                                    <th>Ny ligevægtspris</th>
                                    <th>Ny ligevægtsmængde</th>
                                    <th>Eksempel (Cafe latte)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><b>Stigning i efterspørgsel</b></td>
                                    <td>Efterspørgselskurven forskydes til højre.</td>
                                    <td>Stiger</td>
                                    <td>Stiger</td>
                                    <td>Ny forskning viser, at kaffe er sundt.</td>
                                </tr>
                                <tr>
                                    <td><b>Fald i efterspørgsel</b></td>
                                    <td>Efterspørgselskurven forskydes til venstre.</td>
                                    <td>Falder</td>
                                    <td>Falder</td>
                                    <td>En ny trend med energidrikke opstår.</td>
                                </tr>
                                <tr>
                                    <td><b>Stigning in udbud</b></td>
                                    <td>Udbudskurven forskydes til højre.</td>
                                    <td>Falder</td>
                                    <td>Stiger</td>
                                    <td>Ny, mere effektiv kaffemaskine opfindes.</td>
                                </tr>
                                <tr>
                                    <td><b>Fald i udbud</b></td>
                                    <td>Udbudskurven forskydes til venstre.</td>
                                    <td>Stiger</td>
                                    <td>Falder</td>
                                    <td>Dårlig kaffehøst øger prisen på kaffebønner.</td>
                                </tr>
                                <tr>
                                    <td><b>Stigning i efterspørgsel & udbud</b></td>
                                    <td>Begge kurver forskydes til højre.</td>
                                    <td>Ubestemt</td>
                                    <td>Stiger</td>
                                    <td>Kaffe bliver populært, og ny teknologi forbedrer produktionen.</td>
                                </tr>
                                <tr>
                                    <td><b>Fald i efterspørgsel & udbud</b></td>
                                    <td>Begge kurver forskydes til venstre.</td>
                                    <td>Ubestemt</td>
                                    <td>Falder</td>
                                    <td>Kaffe bliver upopulært, og kaffebønner bliver dyrere.</td>
                                </tr>
                            </tbody>
                        </table>
                        <p><b>Vigtigt:</b> Forståelse af disse forskydninger er afgørende for at forudsige, hvordan
                            markeder
                            reagerer på forskellige økonomiske begivenheder og politikker.</p>
                    </div>

                    <hr>
                    <div class="chart-container"
                        style="position: relative; height:50vh; width:100%; margin: 20px auto; text-align: center;">
                        <canvas id="plot3"></canvas>
                    </div>

                    <small>
                        <p>Figur 5.4: Eksempel på faldende Efterspørgsel, det kan f.eks. være at en populær juice cafe
                            åbner i nærheden og sælger juice til rimelige priser.
                            Efterspørgslen efter cafe latte forskydes til venstre (gul kurve) hvilket fører til en
                            ændret Markedsligevægt (P=50 kr., X=60 stk.),
                            hvor prisen falder til 50 kr. og mængden falder til 60 kopper.
                            Dette er illustreret med den stipplede linje i figuren ovenfor.</p>
                    </small>


                    <hr>
                    <div class="chart-container"
                        style="position: relative; height:50vh; width:100%; margin: 20px auto; text-align: center;">
                        <canvas id="plot6"></canvas>
                    </div>
                    <small>
                        <p>Figur 5.5: Eksempel på øget udbud, en ny cafe åbner i nærheden og sælger cafe latte til
                            rimelige priser.
                            Udbudskurven forskydes til højre (orange kurve) hvilket fører til en ny Markedsligevægt
                            (P=50 kr., X=100 koppper
                            ), hvor prisen falder til 50 kr. og mængden stiger til 100 kopper.
                            Bemærk her forskydes den ny udbudskurve (orange kurve) ikke parallelt med den oprindelige
                            udbudskurve (rød kurve),
                            dette skyldes at ingen cafeér er villige til at sælge cafe latte til 20 kr. eller lavere.
                        </p>
                    </small>



                 
                </div>
                <br><br>

                <h2>Markedseffektivitet, forbruger- og producentoverskud</h2>
                <div class="info-box">
                    <p>Et marked er <b>effektivt</b>, når det maksimerer den samlede samfundsmæssige gevinst, som består
                        af
                        forbrugeroverskud og producentoverskud som vi så tidligere på. Markedseffektivitet opnås ved
                        markedsligevægten hvor der ikke er dødvægtstab,
                        hvilket betyder at det samlede forbruger- og producentoverskud er højest muligt.</p>

                    <h4>Forbrugeroverskud (FO)</h4>
                    <p>Forbrugeroverskud er den gevinst, forbrugere opnår, når de køber en vare til en pris, der er
                        lavere som
                        den maksimale pris, de er villige til at betale. Det er forskellen mellem betalingsvillighed og
                        markedspris.</p>
                    <div>
                        <h5>Beregning:</h5>
                        <p><b>FO = ½ × (Maksimal betalingsvillighed - Markedspris) × Mængde</b></p>
                    </div>

                    <h4>Producentoverskud (PO)</h4>
                    <p>Producentoverskud er den gevinst, producenter opnår, når de sælger en vare til en pris, der er
                        højere end
                        den minimumspris, de er villige til at sælge for (deres marginalomkostninger). Det er forskellen
                        mellem
                        markedspris og minimumspris.</p>
                    <div>
                        <h5>Beregning:</h5>
                        <p><b>PO = ½ × (Markedspris - Minimumspris) × Mængde</b></p>
                    </div>

                    <h4>Samlet overskud (SO)</h4>
                    <p>Det samlede overskud er summen af forbrugeroverskud og producentoverskud. Et effektivt marked
                        maksimerer
                        dette samlede overskud.</p>
                    <div>
                        <h5>Beregning:</h5>
                        <p><b>SO = FO + PO</b></p>
                    </div>

                    <h4>Eksempel: Cafe latte marked</h4>
                    <p>Med efterspørgsel P = -0,5X + 100 og udbud P = 0,5X + 20, fandt vi ligevægten ved P=60 kr. og
                        X=80
                        kopper.</p>
                    <ul>
                        <li><b>Maksimal betalingsvillighed (fra efterspørgselsfunktion):</b> Når X=0, P=100 kr.</li>
                        <li><b>Minimumspris for produktion (fra udbudsfunktion):</b> Når X=0, P=20 kr.</li>
                    </ul>

                    <p><b>Forbrugeroverskud ved ligevægt (P=60, X=80):</b></p>
                    <p style="font-family: 'Courier New', monospace; font-size: 16px;">
                        FO = ½ × (100 - 60) × 80 = ½ × 40 × 80 = <b>1.600 kr.</b>
                    </p>

                    <p><b>Producentoverskud ved ligevægt (P=60, X=80):</b></p>
                    <p style="font-family: 'Courier New', monospace; font-size: 16px;">
                        PO = ½ × (60 - 20) × 80 = ½ × 40 × 80 = <b>1.600 kr.</b>
                    </p>

                    <p><b>Samlet overskud ved ligevægt:</b></p>
                    <p style="font-family: 'Courier New', monospace; font-size: 16px;">
                        SO = 1.600 kr. + 1.600 kr. = <b>3.200 kr.</b>
                    </p>

                    <div class="table-responsive mb-4">
                        <table class="table table-striped table-bordered table-hover">
                            <thead class="table-dark">
                                <tr>
                                    <th>Pris</th>
                                    <th>Mængde</th>
                                    <th>Forbrugeroverskud</th>
                                    <th>Producentoverskud</th>
                                    <th>Samlet overskud</th>
                                    <th>Effektivitet</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><b>60 kr. (ligevægt)</b></td>
                                    <td>80 kopper</td>
                                    <td>1.600 kr.</td>
                                    <td>1.600 kr.</td>
                                    <td>3.200 kr.</td>
                                    <td><b>Effektiv</b></td>
                                </tr>
                                <tr>
                                    <td><b>80 kr. (over ligevægt)</b></td>
                                    <td>40 kopper</td>
                                    <td>400 kr.</td>
                                    <td>2.000 kr.</td>
                                    <td>2.400 kr.</td>
                                    <td><b>Ikke effektiv</b></td>
                                </tr>
                                <tr>
                                    <td><b>40 kr. (under ligevægt)</b></td>
                                    <td>120 kopper</td>
                                    <td>2.400 kr.</td>
                                    <td>800 kr.</td>
                                    <td>3.200 kr.</td>
                                    <td><b>Ikke effektiv</b></td>
                                </tr>
                                <tr>
                                    <td><b>40 kr. (for lav pris)</b></td>
                                    <td>40 kopper</td>
                                    <td>2.400 kr.</td>
                                    <td>400 kr.</td>
                                    <td>2.800 kr.</td>
                                    <td><b>400 kr.</b></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p><b>Konklusion:</b> Ved ligevægtsprisen 60 kr. er det samlede overskud 3.200 kr., hvilket er
                        højere end
                        ved andre priser, hvor markedet ikke er i ligevægt. Dette viser, at ligevægt er den mest
                        effektive
                        tilstand for markedet.</p>

                        <hr>
                        <div class="chart-container"
                            style="position: relative; height:50vh; width:100%; margin: 20px auto; text-align: center;">
                            <canvas id="plot22"></canvas>
                        </div>
                       
                    <small>
                        <p>Figur 5.6: Forbrugeroverskud og Producentoverskud ved Markedsligevægt for cafe latte hvis
                            markedet er effektivt.
                            Forbrugeroverskud (turkis) 1800 kr. er arealet over ligevægtsprisen og under
                            efterspørgselskurven.
                            Producentoverskud (lilla) 1800 kr. er arealet under ligevægtsprisen og over udbudskurven.
                        </p>
                    </small>

                    <br><br>
                </div>
                <br><br>

                <h2>Dødvægtstab (Effektivitetstab)</h2>
                <div class="info-box">
                    <p>Dødvægtstab opstår, når markedet ikke er effektivt, og den samlede samfundsmæssige gevinst er
                        mindre end
                        den potentielt maksimale gevinst ved ligevægt. Dette tab repræsenterer de gensidigt fordelagtige
                        handler, der ikke finder sted på grund af en ubalance i markedet.</p>

                    <h4>Hvad er dødvægtstab?</h4>
                    <ul>
                        <li><b>Definition:</b> Det tab af samlet overskud der opstår, når prisen ikke er lig med
                            ligevægtsprisen.</li>
                        <li><b>Årsag:</b> Priser der er for høje eller for lave i forhold til ligevægt, eller andre
                            markedsforvridninger (f.eks. skatter, monopoler).</li>
                        <li><b>Resultat:</b> Nogle potentielle handler, der ville have gavnet både købere og sælgere,
                            bliver
                            ikke gennemført.</li>
                    </ul>

                    <h4>Beregning af dødvægtstab</h4>
                    <p>Dødvægtstabet beregnes som forskellen mellem det maksimale samlede overskud (ved ligevægt) og det
                        faktiske samlede overskud:</p>

                    <div>
                        <h5>Dødvægtstab = Maksimalt samlet overskud - Faktisk samlet overskud</h5>
                        <p><b>DVL = SO<sub>max</sub> - SO<sub>faktisk</sub></b></p>
                    </div>

                    <h4>Eksempel: Cafe latte marked med prisfastsættelse over ligevægt</h4>
                    <p>
                        Vi vil nu se på to scenarier, hvor prisen afviger fra ligevægtsprisen på 60 kr., og hvordan dette
                        påvirker markedets effektivitet og fordelingen af overskud.
                    </p>
                    <p><b>Scenarie 1: Prisfastsættelse over ligevægt (80 kr.)</b></p>
                    <p>Antag at café-ejerne aftaler at sætte prisen til 80 kr. i stedet for ligevægtsprisen 60 kr. Ved
                        en pris
                        på 80 kr. er den efterspurgte mængde 40 kopper (P = -0,5X + 100 => 80 = -0,5X + 100 => 0,5X = 20
                        => X =
                        40). Den udbudte mængde er 120 kopper (P = 0,5X + 20 => 80 = 0,5X + 20 => 0,5X = 60 => X = 120).
                        Der er
                        altså et udbudsoverskud på 80 kopper (120-40), og kun 40 kopper handles. Dette resulterer i et
                        dødvægtstab (DWL), da potentielle handler, der ville have skabt værdi, ikke finder sted.
                        Forbrugeroverskuddet reduceres markant, mens producentoverskuddet øges for de få solgte kopper,
                        men det samlede overskud falder.
                    </p>

                    <p><b>Scenarie 2: Prisfastsættelse under ligevægt (40 kr.)</b></p>
                    <p>Antag nu, at en prisregulering fastsætter prisen til 40 kr., hvilket er under
                        ligevægtsprisen på 60 kr.
                        Ved en pris på 40 kr. er den efterspurgte mængde 120 kopper (P = -0,5X + 100 => 40 = -0,5X + 100
                        => 0,5X = 60 => X = 120). Den udbudte mængde er 40 kopper (P = 0,5X + 20 => 40 = 0,5X + 20 =>
                        0,5X = 20 => X = 40).
                        Der er altså et efterspørgselsoverskud på 80 kopper (120-40), og kun 40 kopper handles, da
                        producenterne kun vil udbyde 40 kopper til denne pris. Dette skaber også et dødvægtstab, da
                        producenterne ikke kan sælge nok til at imødekomme efterspørgslen, og forbrugere, der ville have
                        købt til en højere pris, ikke kan få produktet. Producentoverskuddet reduceres markant, mens
                        forbrugeroverskuddet øges for de få købte kopper, men det samlede overskud falder.
                    </p>
                    <div class="table-responsive mb-4">
                        <table class="table table-striped table-bordered table-hover">
                            <thead class="table-dark">
                                <tr>
                                    <th>Pris</th>
                                    <th>Mængde</th>
                                    <th>Forbrugeroverskud</th>
                                    <th>Producentoverskud</th>
                                    <th>Samlet overskud</th>
                                    <th>Dødvægtstab</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><b>60 kr. (ligevægt)</b></td>
                                    <td>80 kopper</td>
                                    <td>1.600 kr.</td>
                                    <td>1.600 kr.</td>
                                    <td>3.200 kr.</td>
                                    <td><b>0 kr.</b></td>
                                </tr>
                                <tr>
                                    <td><b>80 kr. (for høj pris)</b></td>
                                    <td>40 kopper</td>
                                    <td>400 kr.</td>
                                    <td>2.000 kr.</td>
                                    <td>2.400 kr.</td>
                                    <td><b>800 kr.</b></td>
                                </tr>
                                <tr>
                                    <td><b>40 kr. (for lav pris)</b></td>
                                    <td>40 kopper</td>
                                    <td>2.000 kr.</td>
                                    <td>400 kr.</td>
                                    <td>2.400 kr.</td>
                                    <td><b>800 kr.</b></td>
                                </tr>
                                
                            </tbody>
                        </table>
                        </div>
                        <hr>
                        <div class="chart-container"
                            style="position: relative; height:50vh; width:100%; margin: 20px auto; text-align: center;">
                            <canvas id="plot23"></canvas>
                        </div>
                        <small>
                            <p>Figur 5.7: Dette diagram (plot23) illustrerer markedet for cafe latte med en prisfastsættelse
                                på 80 kr., som er over ligevægtsprisen. Forbrugeroverskuddet er det turkise areal,
                                producentoverskuddet er det lilla areal, og dødvægtstabet (DWL) er det grå areal,
                                der viser tabet af samlet samfundsmæssig velfærd som følge af den for høje pris.
                            </p>
                        </small>
                        <hr>
                        <div class="chart-container"
                            style="position: relative; height:50vh; width:100%; margin: 20px auto; text-align: center;">
                            <canvas id="plot24"></canvas>
                        </div>
                        <small>
                            <p>Figur 5.8: Dette diagram (plot24) viser markedet for cafe latte med en prisfastsættelse
                                på 40 kr., som er under ligevægtsprisen. Forbrugeroverskuddet er det turkise areal,
                                producentoverskuddet er det lilla areal, og dødvægtstabet (DWL) er det grå areal,
                                der indikerer tabet af samlet samfundsmæssig velfærd på grund af den for lave pris.
                            </p>
                        </small>
                       
                    <p>I dette tilfælde er det maksimale samlede overskud 3.200 kr. (ved ligevægt). Ved en pris på 80
                        kr. er det
                        faktiske samlede overskud 2.400 kr. Dødvægtstabet er derfor 3.200 kr. - 2.400 kr. = 800 kr.</p>

                    <h4>Årsager til dødvægtstab</h4>
                    <div class="table-responsive mb-4">
                        <table class="table table-striped table-bordered table-hover">
                            <thead class="table-dark">
                                <tr>
                                    <th>Årsag</th>
                                    <th>Eksempel</th>
                                    <th>Konsekvens</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><b>Prisregulering (prisloft/prisgulv)</b></td>
                                    <td>Maksimalpris på husleje, minimumsløn.</td>
                                    <td>Mangel på boliger, arbejdsløshed.</td>
                                </tr>
                                <tr>
                                    <td><b>Skatter og afgifter</b></td>
                                    <td>Moms på varer, punktafgifter på tobak/alkohol.</td>
                                    <td>Højere priser for forbrugere, lavere mængde, dødvægtstab.</td>
                                </tr>
                                <tr>
                                    <td><b>Monopoler</b></td>
                                    <td>En enkelt udbyder af en vare/tjeneste.</td>
                                    <td>Højere priser, lavere mængde, dødvægtstab.</td>
                                </tr>
                                <tr>
                                    <td><b>Eksterne effekter</b></td>
                                    <td>Forurening fra produktion, uddannelse.</td>
                                    <td>Markedet producerer for meget af forurenende varer, for lidt af gavnlige varer.
                                    </td>
                                </tr>
                                <tr>
                                    <td><b>Asymmetrisk information</b></td>
                                    <td>Sælger ved mere om produktet end køber.</td>
                                    <td>Ineffektive handler, markedet kan kollapse.</td>
                                </tr>
                                
                            </tbody>
                        </table>
                    </div>
                    <p><b>Vigtigt:</b> Dødvægtstab viser, hvorfor frie markeder, under ideelle forhold, er mere
                        effektive end
                        markeder med priskontrol eller monopoler, da de maksimerer den samlede samfundsmæssige velfærd.
                    </p>
                </div>
                <br><br>


                <br><br>

                <h2>Quiz</h2>
                <a href="https://quiz.tepedu.dk/mikro3" class="effectLinks" data-replace="Åben quiz" target="_blank">
                    <span>Quiz om markedsmekanismen</span>
                </a>
                <br>
                <br>
                <a href="https://quiz.tepedu.dk/mikro4" class="effectLinks" data-replace="Åben quiz" target="_blank">
                    <span>Quiz om efterspørgsel</span>
                </a>
                <br>
                <br>

            </article>
        </div>
    </div>

    <!-- Left-aligned TOC Sidebar -->
    <div id="left-aligned-sidebar">
        <h4>Indholdsfortegnelse</h4>
        <ul id="sidebar-toc"></ul>
    </div>
    <button id="sidebar-toggle-button">
        <span class="icon-open">☰</span>
        <span class="icon-close">×</span>
    </button>

    <!-- jQuery and Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- External JavaScript Files -->
    <script src="menu.js"></script>
    <script src="script.js"></script>
    <script src="info.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/wavesurfer.js"></script>
    <script src="podcast-player-modern.js"></script>
    <!-- MDB JS -->
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js"></script>


 <!-- mange plot -->
 <script>
    document.addEventListener('DOMContentLoaded', function () {
        // Function to initialize a chart
        function initializeChart(chartId, chartConfig) {
            const ctx = document.getElementById(chartId).getContext('2d');
            new Chart(ctx, chartConfig);
        }

        // Intersection Observer for charts
        const chartObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const chartId = entry.target.id;
                    // Initialize chart based on ID
                    if (chartId === 'comparativeAdvantageChart') {
                        initializeChart('comparativeAdvantageChart', {
                            type: 'bar',
                            data: {
                                labels: ['Korn (kg)', 'Brød (kg)'],
                                datasets: [{
                                    label: 'Landmand (produktion pr. dag)',
                                    data: [10, 5],
                                    backgroundColor: 'rgba(75, 192, 192, 0.8)',
                                    borderColor: 'rgba(75, 192, 192, 1)',
                                    borderWidth: 1
                                }, {
                                    label: 'Bager (produktion pr. dag)',
                                    data: [2, 8],
                                    backgroundColor: 'rgba(153, 102, 255, 0.8)',
                                    borderColor: 'rgba(153, 102, 255, 1)',
                                    borderWidth: 1
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: {
                                    duration: 2000
                                },
                                title: {
                                    display: true,
                                    text: 'Produktionskapacitet for Landmand og Bager',
                                    fontSize: 18
                                },
                                scales: {
                                    yAxes: [{
                                        ticks: {
                                            beginAtZero: true
                                        },
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Mængde (kg)'
                                        }
                                    }]
                                },
                                plugins: {
                                    datalabels: {
                                        anchor: 'end',
                                        align: 'top',
                                        formatter: (value, context) => {
                                            return value + ' kg';
                                        },
                                        color: '#000',
                                        font: {
                                            weight: 'bold'
                                        }
                                    }
                                }
                            },
                            // plugins: [ChartDataLabels] 
                        });
                    } else if (chartId === 'plot') {
                        initializeChart('plot', {
                            type: 'line',
                            data: {
                                labels: [0, 20, 40, 60, 80, 100, 120, 140, 160, 180, 200], // Units of X
                                datasets: [{
                                    label: 'Efterspørgsel',
                                    data: [100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 0], // Units of Y
                                    borderColor: 'green',
                                    // backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                    borderWidth: 2,
                                    fill: false,
                                    pointRadius: 2,
                                    pointBackgroundColor: 'green'
                                },
                                {
                                    label: 'Udbud',
                                    data: [20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120], // Units of Y
                                    borderColor: 'red',
                                    // backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                    borderWidth: 2,
                                    fill: false,
                                    pointRadius: 2,
                                    pointBackgroundColor: 'red'
                                },
                                {
                                    label: 'Ligevægt (P=60, X=80)',
                                    data: [
                                        { x: 0, y: 60 },
                                        { x: 80, y: 60 },
                                        { x: 80, y: 60 },
                                        { x: 80, y: 0 }
                                    ],
                                    borderColor: 'black',
                                    borderWidth: 1,
                                    borderDash: [5, 5],
                                    fill: false,
                                    pointRadius: 0,
                                    showLine: true,
                                    datalabels: {
                                        display: false
                                    }
                                }
                                ]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: {
                                    duration: 2000
                                },
                                title: {
                                    display: true,
                                    text: 'Markedsligevægt (P=60, X=80)',
                                    fontSize: 18
                                },
                                scales: {
                                    xAxes: [{
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Efterspørgsel i stk.'
                                        },
                                        ticks: {
                                            beginAtZero: true,
                                            // stepSize: 1
                                        }
                                    }],
                                    yAxes: [{
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Pris (kr.)'
                                        },
                                        ticks: {
                                            beginAtZero: true,
                                            stepSize: 10
                                        }
                                    }]
                                },
                                tooltips: {
                                    callbacks: {
                                        title: function () {
                                            return ''; // Remove the title (which displays the X-axis value)
                                        },
                                        label: function (tooltipItem, data) {
                                            const datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';
                                            let label = datasetLabel;
                                            if (datasetLabel === 'Udbud' || datasetLabel === 'Efterspørgsel') {
                                                const yValue = tooltipItem.yLabel;
                                                const xValue = data.labels[tooltipItem.index];
                                                label = `${datasetLabel}: Pris: ${yValue} kr., Mængde: ${xValue} stk.`;
                                            } else if (datasetLabel === 'Ligevægt (P=60, X=80)') {
                                                // For the equilibrium dashed line, show both X and Y if needed, or just hide
                                                return ''; // Hide label for the dashed line itself
                                            }
                                            return label;
                                        }
                                    }
                                },
                                plugins: {
                                    datalabels: {
                                        display: true, // Show datalabels for line chart points
                                        formatter: function (value, context) {
                                            const xValue = context.chart.data.labels[context.dataIndex];
                                            const yValue = value;
                                            return '(' + xValue + ', ' + yValue + ')';
                                        },
                                        color: '#000',
                                        font: {
                                            weight: 'bold',
                                            size: 10
                                        },
                                        offset: 8, // Offset labels from the points
                                        align: 'end' // Align labels to the end of the point
                                    }
                                }
                            },
                            plugins: [ChartDataLabels]
                        });

                    } else if (chartId === 'plot3') {
                        initializeChart('plot3', {
                            type: 'line',
                            data: {
                                labels: [0, 20, 40, 60, 80, 100, 120, 140, 160, 180, 200], // Units of X
                                datasets: [{
                                    label: 'Efterspørgsel',
                                    data: [100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 0], // Units of Y
                                    borderColor: 'green',
                                    // backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                    borderWidth: 2,
                                    fill: false,
                                    pointRadius: 2,
                                    pointBackgroundColor: 'green'
                                },
                                {
                                    label: 'Ny Efterspørgsel',
                                    data: [80, 70, 60, 50, 40, 30, 20, 10, 0], // Units of Y
                                    borderColor: 'orange',
                                    // backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                    borderWidth: 2,
                                    fill: false,
                                    pointRadius: 2,
                                    pointBackgroundColor: 'orange'
                                },
                                {
                                    label: 'Udbud',
                                    data: [20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120], // Units of Y
                                    borderColor: 'red',
                                    // backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                    borderWidth: 2,
                                    fill: false,
                                    pointRadius: 2,
                                    pointBackgroundColor: 'red'
                                },
                                {
                                    label: 'Ny Ligevægt (P=50, X=60)',
                                    data: [
                                        { x: 0, y: 50 },
                                        { x: 60, y: 50 },
                                        { x: 60, y: 50 },
                                        { x: 60, y: 0 }
                                    ],
                                    borderColor: 'black',
                                    borderWidth: 1,
                                    borderDash: [5, 5],
                                    fill: false,
                                    pointRadius: 0,
                                    showLine: true,
                                    datalabels: {
                                        display: false
                                    }
                                }
                                ]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: {
                                    duration: 2000
                                },
                                title: {
                                    display: true,
                                    text: 'Faldende Efterspørgsel fører til ændret Markedsligevægt',
                                    fontSize: 18
                                },
                                scales: {
                                    xAxes: [{
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Efterspørgsel i stk.'
                                        },
                                        ticks: {
                                            beginAtZero: true,
                                            // stepSize: 1
                                        }
                                    }],
                                    yAxes: [{
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Pris (kr.)'
                                        },
                                        ticks: {
                                            beginAtZero: true,
                                            stepSize: 10
                                        }
                                    }]
                                },
                                tooltips: {
                                    callbacks: {
                                        title: function () {
                                            return ''; // Remove the title (which displays the X-axis value)
                                        },
                                        label: function (tooltipItem, data) {
                                            const datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';
                                            let label = datasetLabel;
                                            if (datasetLabel === 'Udbud' || datasetLabel === 'Ny Efterspørgsel') {
                                                const yValue = tooltipItem.yLabel;
                                                const xValue = data.labels[tooltipItem.index];
                                                label = `${datasetLabel}: Pris: ${yValue} kr., Mængde: ${xValue} stk.`;
                                            } else if (datasetLabel === 'Ligevægt (P=50, X=60)') {
                                                // For the equilibrium dashed line, show both X and Y if needed, or just hide
                                                return ''; // Hide label for the dashed line itself
                                            }
                                            return label;
                                        }
                                    }
                                },
                                plugins: {
                                    datalabels: {
                                        display: true, // Show datalabels for line chart points
                                        formatter: function (value, context) {
                                            const xValue = context.chart.data.labels[context.dataIndex];
                                            const yValue = value;
                                            return '(' + xValue + ', ' + yValue + ')';
                                        },
                                        color: '#000',
                                        font: {
                                            weight: 'bold',
                                            size: 10
                                        },
                                        offset: 8, // Offset labels from the points
                                        align: 'end' // Align labels to the end of the point
                                    }
                                }
                            },
                            plugins: [ChartDataLabels]
                        });

                    } else if (chartId === 'plot4') {
                        initializeChart('plot4', {
                            type: 'line',
                            data: {
                                labels: [0, 20, 40, 60, 80, 100, 120, 140, 160, 180, 200], // Units of X
                                datasets: [{
                                    label: 'Efterspørgsel',
                                    data: [100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 0], // Units of Y
                                    borderColor: 'green',
                                    // backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                    borderWidth: 2,
                                    fill: false,
                                    pointRadius: 2,
                                    pointBackgroundColor: 'green'
                                },
                                {
                                    label: 'Udbud',
                                    data: [20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120], // Units of Y
                                    borderColor: 'red',
                                    // backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                    borderWidth: 2,
                                    fill: false,
                                    pointRadius: 2,
                                    pointBackgroundColor: 'red'
                                },
                                {
                                    label: 'Pris over ligevægt (P=80 kr., X=40 stk.)',
                                    data: [
                                        { x: 0, y: 80 },
                                        { x: 120, y: 80 }, // Horizontal line at y=80
                                        null, // Disconnect
                                        { x: 40, y: 0 },
                                        { x: 40, y: 80 }, // Vertical line at x=40
                                        null, // Disconnect
                                        { x: 120, y: 0 },
                                        { x: 120, y: 80 }  // Vertical line at x=120
                                    ],
                                    borderColor: 'black',
                                    borderWidth: 1,
                                    borderDash: [5, 5],
                                    fill: false,
                                    pointRadius: 0,
                                    showLine: true,
                                    datalabels: {
                                        display: false
                                    }
                                }
                                ]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: {
                                    duration: 2000
                                },
                                title: {
                                    display: true,
                                    text: 'Markedsligevægt (P=60, X=80)',
                                    fontSize: 18
                                },
                                scales: {
                                    xAxes: [{
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Efterspørgsel i stk.'
                                        },
                                        ticks: {
                                            beginAtZero: true,
                                            // stepSize: 1
                                        }
                                    }],
                                    yAxes: [{
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Pris (kr.)'
                                        },
                                        ticks: {
                                            beginAtZero: true,
                                            stepSize: 10
                                        }
                                    }]
                                },
                                tooltips: {
                                    callbacks: {
                                        title: function () {
                                            return ''; // Remove the title (which displays the X-axis value)
                                        },
                                        label: function (tooltipItem, data) {
                                            const datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';
                                            let label = datasetLabel;
                                            if (datasetLabel === 'Udbud' || datasetLabel === 'Efterspørgsel') {
                                                const yValue = tooltipItem.yLabel;
                                                const xValue = data.labels[tooltipItem.index];
                                                label = `${datasetLabel}: Pris: ${yValue} kr., Mængde: ${xValue} stk.`;
                                            } else if (datasetLabel === 'Ligevægt (P=60, X=80)') {
                                                // For the equilibrium dashed line, show both X and Y if needed, or just hide
                                                return ''; // Hide label for the dashed line itself
                                            }
                                            return label;
                                        }
                                    }
                                },
                                plugins: {
                                    datalabels: {
                                        display: true, // Show datalabels for line chart points
                                        formatter: function (value, context) {
                                            const xValue = context.chart.data.labels[context.dataIndex];
                                            const yValue = value;
                                            return '(' + xValue + ', ' + yValue + ')';
                                        },
                                        color: '#000',
                                        font: {
                                            weight: 'bold',
                                            size: 10
                                        },
                                        offset: 8, // Offset labels from the points
                                        align: 'end' // Align labels to the end of the point
                                    }
                                }
                            },
                            plugins: [ChartDataLabels]
                        });


                    } else if (chartId === 'plot5') {
                        initializeChart('plot5', {
                            type: 'line',
                            data: {
                                labels: [0, 20, 40, 60, 80, 100, 120, 140, 160, 180, 200], // Units of X
                                datasets: [{
                                    label: 'Efterspørgsel',
                                    data: [100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 0], // Units of Y
                                    borderColor: 'green',
                                    // backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                    borderWidth: 2,
                                    fill: false,
                                    pointRadius: 2,
                                    pointBackgroundColor: 'green'
                                },
                                {
                                    label: 'Udbud',
                                    data: [20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120], // Units of Y
                                    borderColor: 'red',
                                    // backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                    borderWidth: 2,
                                    fill: false,
                                    pointRadius: 2,
                                    pointBackgroundColor: 'red'
                                },
                                {
                                    label: 'Pris under ligevægt (P=40 kr., X=40 stk.)',
                                    data: [
                                        { x: 0, y: 40 },
                                        { x: 120, y: 40 }, // Horizontal line at y=80
                                        null, // Disconnect
                                        { x: 40, y: 0 },
                                        { x: 40, y: 40 }, // Vertical line at x=40
                                        null, // Disconnect
                                        { x: 120, y: 0 },
                                        { x: 120, y: 40 }  // Vertical line at x=120
                                    ],
                                    borderColor: 'black',
                                    borderWidth: 1,
                                    borderDash: [5, 5],
                                    fill: false,
                                    pointRadius: 0,
                                    showLine: true,
                                    datalabels: {
                                        display: false
                                    }
                                }
                                ]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: {
                                    duration: 2000
                                },
                                title: {
                                    display: true,
                                    text: 'Markedsligevægt (P=60, X=80)',
                                    fontSize: 18
                                },
                                scales: {
                                    xAxes: [{
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Efterspørgsel i stk.'
                                        },
                                        ticks: {
                                            beginAtZero: true,
                                            // stepSize: 1
                                        }
                                    }],
                                    yAxes: [{
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Pris (kr.)'
                                        },
                                        ticks: {
                                            beginAtZero: true,
                                            stepSize: 10
                                        }
                                    }]
                                },
                                tooltips: {
                                    callbacks: {
                                        title: function () {
                                            return ''; // Remove the title (which displays the X-axis value)
                                        },
                                        label: function (tooltipItem, data) {
                                            const datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';
                                            let label = datasetLabel;
                                            if (datasetLabel === 'Udbud' || datasetLabel === 'Efterspørgsel') {
                                                const yValue = tooltipItem.yLabel;
                                                const xValue = data.labels[tooltipItem.index];
                                                label = `${datasetLabel}: Pris: ${yValue} kr., Mængde: ${xValue} stk.`;
                                            } else if (datasetLabel === 'Ligevægt (P=60, X=80)') {
                                                // For the equilibrium dashed line, show both X and Y if needed, or just hide
                                                return ''; // Hide label for the dashed line itself
                                            }
                                            return label;
                                        }
                                    }
                                },
                                plugins: {
                                    datalabels: {
                                        display: true, // Show datalabels for line chart points
                                        formatter: function (value, context) {
                                            const xValue = context.chart.data.labels[context.dataIndex];
                                            const yValue = value;
                                            return '(' + xValue + ', ' + yValue + ')';
                                        },
                                        color: '#000',
                                        font: {
                                            weight: 'bold',
                                            size: 10
                                        },
                                        offset: 8, // Offset labels from the points
                                        align: 'end' // Align labels to the end of the point
                                    }
                                }
                            },
                            plugins: [ChartDataLabels]
                        });


                    } else if (chartId === 'plot6') {
                        initializeChart('plot6', {
                            type: 'line',
                            data: {
                                labels: [0, 20, 40, 60, 80, 100, 120, 140, 160, 180, 200], // Units of X
                                datasets: [{
                                    label: 'Efterspørgsel',
                                    data: [100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 0], // Units of Y
                                    borderColor: 'green',
                                    // backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                    borderWidth: 2,
                                    fill: false,
                                    pointRadius: 2,
                                    pointBackgroundColor: 'green'
                                },

                                {
                                    label: 'Udbud',
                                    data: [20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120], // Units of Y
                                    borderColor: 'red',
                                    // backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                    borderWidth: 2,
                                    fill: false,
                                    pointRadius: 2,
                                    pointBackgroundColor: 'red'
                                },

                                {
                                    label: 'Nyt Udbud',
                                    data: [20, 25, 30, 35, 40, 50, 60, 70, 80, 90, 100], // Units of Y
                                    borderColor: 'orange',
                                    // backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                    borderWidth: 2,
                                    fill: false,
                                    pointRadius: 2,
                                    pointBackgroundColor: 'orange'
                                },
                                {
                                    label: 'Ny ligevægt (P=50 kr., X=100 stk.)',
                                    data: [
                                        { x: 0, y: 50 },
                                        { x: 100, y: 50 },
                                        { x: 100, y: 50 },
                                        { x: 100, y: 0 }
                                    ],
                                    borderColor: 'black',
                                    borderWidth: 1,
                                    borderDash: [5, 5],
                                    fill: false,
                                    pointRadius: 0,
                                    showLine: true,
                                    datalabels: {
                                        display: false
                                    }
                                }
                                ]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                animation: {
                                    duration: 2000
                                },
                                title: {
                                    display: true,
                                    text: 'Øget udbud fører til ny Markedsligevægt',
                                    fontSize: 18
                                },
                                scales: {
                                    xAxes: [{
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Efterspørgsel i stk.'
                                        },
                                        ticks: {
                                            beginAtZero: true,
                                            // stepSize: 1
                                        }
                                    }],
                                    yAxes: [{
                                        scaleLabel: {
                                            display: true,
                                            labelString: 'Pris (kr.)'
                                        },
                                        ticks: {
                                            beginAtZero: true,
                                            stepSize: 10
                                        }
                                    }]
                                },
                                tooltips: {
                                    callbacks: {
                                        title: function () {
                                            return ''; // Remove the title (which displays the X-axis value)
                                        },
                                        label: function (tooltipItem, data) {
                                            const datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';
                                            let label = datasetLabel;
                                            if (datasetLabel === 'Nyt Udbud' || datasetLabel === 'Efterspørgsel') {
                                                const yValue = tooltipItem.yLabel;
                                                const xValue = data.labels[tooltipItem.index];
                                                label = `${datasetLabel}: Pris: ${yValue} kr., Mængde: ${xValue} stk.`;
                                            } else if (datasetLabel === 'Ligevægt (P=60, X=80)') {
                                                // For the equilibrium dashed line, show both X and Y if needed, or just hide
                                                return ''; // Hide label for the dashed line itself
                                            }
                                            return label;
                                        }
                                    }
                                },
                                plugins: {
                                    datalabels: {
                                        display: true, // Show datalabels for line chart points
                                        formatter: function (value, context) {
                                            const xValue = context.chart.data.labels[context.dataIndex];
                                            const yValue = value;
                                            return '(' + xValue + ', ' + yValue + ')';
                                        },
                                        color: '#000',
                                        font: {
                                            weight: 'bold',
                                            size: 10
                                        },
                                        offset: 8, // Offset labels from the points
                                        align: 'end' // Align labels to the end of the point
                                    }
                                }
                            },
                            plugins: [ChartDataLabels]
                        });


                   

                  

                   

                    } 
                    observer.unobserve(entry.target); // Stop observing once chart is loaded
                }
            });
        }, { threshold: 0.5 }); // Trigger when 50% of the chart is visible

        // Observe chart canvas elements
        document.querySelectorAll('canvas').forEach(canvas => {
            chartObserver.observe(canvas);
        });

        // Handle video end event for white background
        const video = document.querySelector('.book-cover-wrapper video');
        if (video) {
            video.addEventListener('ended', function () {
                // Create white overlay when video ends
                const whiteOverlay = document.createElement('div');
                whiteOverlay.style.cssText = `
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background-color: white;
                    z-index: 1;
                `;
                this.parentElement.appendChild(whiteOverlay);
            });
        }
    });
</script>

<!-- plot22 -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // Get the canvas element's context
            const ctx = document.getElementById('plot22').getContext('2d');

            // Create the new chart instance with the full configuration
            const myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    datasets: [{
                        label: 'Efterspørgsel',
                        data: [
                            { x: 0, y: 100 }, { x: 20, y: 90 }, { x: 40, y: 80 }, { x: 60, y: 70 }, { x: 80, y: 60 },
                            { x: 100, y: 50 }, { x: 120, y: 40 }, { x: 140, y: 30 }, { x: 160, y: 20 }, { x: 180, y: 10 }, { x: 200, y: 0 }
                        ],
                        borderColor: 'green',
                        backgroundColor: 'transparent',
                        borderWidth: 2.5,
                        pointRadius: 3,
                        pointBackgroundColor: 'green',
                        lineTension: 0
                    },
                    {
                        label: 'Udbud',
                        data: [
                            { x: 0, y: 20 }, { x: 20, y: 30 }, { x: 40, y: 40 }, { x: 60, y: 50 }, { x: 80, y: 60 },
                            { x: 100, y: 70 }, { x: 120, y: 80 }, { x: 140, y: 90 }, { x: 160, y: 100 }, { x: 180, y: 110 }, { x: 200, y: 120 }
                        ],
                        borderColor: 'red',
                        backgroundColor: 'transparent',
                        borderWidth: 2.5,
                        pointRadius: 3,
                        pointBackgroundColor: 'red',
                        lineTension: 0
                    },
                    {
                        label: 'Prislinje (P=60)',
                        data: [{ x: 0, y: 60 }, { x: 80, y: 60 }, { x: 80, y: 0 }],
                        borderColor: 'black',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        lineTension: 0 // Ensures perfectly straight lines
                    },
                    {
                        label: 'Forbrugeroverskud',
                        data: [{ x: 0, y: 100 }, { x: 80, y: 60 }, { x: 0, y: 60 }],
                        backgroundColor: 'rgba(75, 192, 192, 0.7)',
                        borderColor: 'transparent',
                        fill: true,
                        pointRadius: 0,
                        lineTension: 0 // Ensures a sharp, straight-edged triangle
                    },
                    {
                        label: 'Producentoverskud',
                        data: [{ x: 0, y: 60 }, { x: 80, y: 60 },  { x: 0, y: 20 }],
                        backgroundColor: 'rgba(153, 102, 255, 0.5)',
                        borderColor: 'transparent',
                        fill: true,
                        pointRadius: 0,
                        lineTension: 0 // Ensures a sharp, straight-edged polygon
                    }
                    
                    
                    ]
                },



                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    title: {
                        display: true,
                        text: 'Forbrugeroverskud og Producentoverskud (Pris = 60)',
                        fontSize: 18
                    },
                    scales: {
                        xAxes: [{
                            type: 'linear',
                            position: 'bottom',
                            scaleLabel: { display: true, labelString: 'Efterspørgsel i stk.' },
                            ticks: { beginAtZero: true, stepSize: 20 }
                        }],
                        yAxes: [{
                            scaleLabel: { display: true, labelString: 'Pris (kr.)' },
                            ticks: { beginAtZero: true, stepSize: 10 }
                        }]
                    },
                    tooltips: {
                        callbacks: {
                            title: function () {
                                return ''; // Remove the title (which displays the X-axis value)
                            },
                            label: function (tooltipItem, data) {
                                const datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';
                                let label = datasetLabel;
                                if (datasetLabel === 'Udbud' || datasetLabel === 'Efterspørgsel') {
                                    const yValue = tooltipItem.yLabel;
                                    const xValue = tooltipItem.xLabel;
                                    label = `${datasetLabel}: Pris: ${yValue} kr., Mængde: ${xValue} stk.`;
                                } else if (datasetLabel === 'Ligevægt (P=60, X=80)') {
                                    // For the equilibrium dashed line, show both X and Y if needed, or just hide
                                    return ''; // Hide label for the dashed line itself
                                }
                                return label;
                            }
                        }
                    },
                    plugins: {
                        datalabels: {
                            // This function controls how the label is formatted
                            formatter: function(value, context) {
                                const point = context.dataset.data[context.dataIndex];
                                return '(' + point.x + ' stk., ' + point.y + ' kr.)';
                            },
                            // This function controls which labels are shown
                            display: function(context) {
                                const datasetLabel = context.dataset.label;
                                // Only show labels for these two datasets
                                return datasetLabel === 'Efterspørgsel' || datasetLabel === 'Udbud';
                            },
                            color: '#333',
                            font: {
                                weight: 'bold',
                                size: 10,
                            },
                            align: 'end', // Position the label above the point
                            offset: 8     // Distance in pixels from the point
                        }
                    }
                },
                plugins: [ChartDataLabels]
            });
        });
    </script>
<!-- plot23 -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // Get the canvas element's context
            const ctx = document.getElementById('plot23').getContext('2d');

            // Create the new chart instance with the full configuration
            const myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    datasets: [{
                        label: 'Efterspørgsel',
                        data: [
                            { x: 0, y: 100 }, { x: 20, y: 90 }, { x: 40, y: 80 }, { x: 60, y: 70 }, { x: 80, y: 60 },
                            { x: 100, y: 50 }, { x: 120, y: 40 }, { x: 140, y: 30 }, { x: 160, y: 20 }, { x: 180, y: 10 }, { x: 200, y: 0 }
                        ],
                        borderColor: 'green',
                        backgroundColor: 'transparent',
                        borderWidth: 2.5,
                        pointRadius: 3,
                        pointBackgroundColor: 'green',
                        lineTension: 0
                    },
                    {
                        label: 'Udbud',
                        data: [
                            { x: 0, y: 20 }, { x: 20, y: 30 }, { x: 40, y: 40 }, { x: 60, y: 50 }, { x: 80, y: 60 },
                            { x: 100, y: 70 }, { x: 120, y: 80 }, { x: 140, y: 90 }, { x: 160, y: 100 }, { x: 180, y: 110 }, { x: 200, y: 120 }
                        ],
                        borderColor: 'red',
                        backgroundColor: 'transparent',
                        borderWidth: 2.5,
                        pointRadius: 3,
                        pointBackgroundColor: 'red',
                        lineTension: 0
                    },
                    {
                        label: 'Prislinje (P=80)',
                        data: [{ x: 0, y: 80 }, { x: 40, y: 80 }, { x: 40, y: 0 }],
                        borderColor: 'black',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        lineTension: 0 // Ensures perfectly straight lines
                    },
                    {
                        label: 'Forbrugeroverskud',
                        data: [{ x: 0, y: 100 }, { x: 40, y: 80 }, { x: 0, y: 80 }],
                        backgroundColor: 'rgba(75, 192, 192, 0.7)',
                        borderColor: 'transparent',
                        fill: true,
                        pointRadius: 0,
                        lineTension: 0 // Ensures a sharp, straight-edged triangle
                    },
                    {
                        label: 'Producentoverskud',
                        data: [{ x: 0, y: 80 }, { x: 40, y: 80 }, { x: 40, y: 40 }, { x: 0, y: 20 }],
                        backgroundColor: 'rgba(153, 102, 255, 0.5)',
                        borderColor: 'transparent',
                        fill: true,
                        pointRadius: 0,
                        lineTension: 0 // Ensures a sharp, straight-edged polygon
                    },
                   
                    {
                        label: 'DWL',
                        // These are the 3 corners of the DWL triangle
                        data: [{ x: 40, y: 40 }, { x: 40, y: 80 }, { x: 80, y: 60 }, { x: 40, y: 40 }],
                        backgroundColor: 'rgba(128, 128, 128, 0.5)', // Grey for DWL
                        borderColor: 'transparent',
                        fill: true,
                        pointRadius: 0,
                        lineTension: 0
                    }
                    ]
                },



                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    title: {
                        display: true,
                        text: 'Forbrugeroverskud og Producentoverskud (Pris = 80)',
                        fontSize: 18
                    },
                    scales: {
                        xAxes: [{
                            type: 'linear',
                            position: 'bottom',
                            scaleLabel: { display: true, labelString: 'Efterspørgsel i stk.' },
                            ticks: { beginAtZero: true, stepSize: 20 }
                        }],
                        yAxes: [{
                            scaleLabel: { display: true, labelString: 'Pris (kr.)' },
                            ticks: { beginAtZero: true, stepSize: 10 }
                        }]
                    },
                    tooltips: {
                        callbacks: {
                            title: function () {
                                return ''; // Remove the title (which displays the X-axis value)
                            },
                            label: function (tooltipItem, data) {
                                const datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';
                                let label = datasetLabel;
                                if (datasetLabel === 'Udbud' || datasetLabel === 'Efterspørgsel') {
                                    const yValue = tooltipItem.yLabel;
                                    const xValue = tooltipItem.xLabel;
                                    label = `${datasetLabel}: Pris: ${yValue} kr., Mængde: ${xValue} stk.`;
                                } else if (datasetLabel === 'Ligevægt (P=60, X=80)') {
                                    // For the equilibrium dashed line, show both X and Y if needed, or just hide
                                    return ''; // Hide label for the dashed line itself
                                }
                                return label;
                            }
                        }
                    },
                    plugins: {
                        datalabels: {
                            // This function controls how the label is formatted
                            formatter: function(value, context) {
                                const point = context.dataset.data[context.dataIndex];
                                return '(' + point.x + ' stk., ' + point.y + ' kr.)';
                            },
                            // This function controls which labels are shown
                            display: function(context) {
                                const datasetLabel = context.dataset.label;
                                // Only show labels for these two datasets
                                return datasetLabel === 'Efterspørgsel' || datasetLabel === 'Udbud';
                            },
                            color: '#333',
                            font: {
                                weight: 'bold',
                                size: 10,
                            },
                            align: 'end', // Position the label above the point
                            offset: 8     // Distance in pixels from the point
                        }
                    }
                },
                plugins: [ChartDataLabels]
            });
        });
    </script>
   
<!-- plot24 -->
    <script>
        window.addEventListener('load', function() {

            // Get the canvas element's context
            const ctx24 = document.getElementById('plot24').getContext('2d');

            // Create the new chart instance with the full configuration
            const myChart24 = new Chart(ctx24, {
                type: 'line',
                data: {
                    datasets: [{
                        label: 'Efterspørgsel',
                        data: [
                            { x: 0, y: 100 }, { x: 20, y: 90 }, { x: 40, y: 80 }, { x: 60, y: 70 }, { x: 80, y: 60 },
                            { x: 100, y: 50 }, { x: 120, y: 40 }, { x: 140, y: 30 }, { x: 160, y: 20 }, { x: 180, y: 10 }, { x: 200, y: 0 }
                        ],
                        borderColor: 'green',
                        backgroundColor: 'transparent',
                        borderWidth: 2.5,
                        pointRadius: 3,
                        pointBackgroundColor: 'green',
                        lineTension: 0
                    },
                    {
                        label: 'Udbud',
                        data: [
                            { x: 0, y: 20 }, { x: 20, y: 30 }, { x: 40, y: 40 }, { x: 60, y: 50 }, { x: 80, y: 60 },
                            { x: 100, y: 70 }, { x: 120, y: 80 }, { x: 140, y: 90 }, { x: 160, y: 100 }, { x: 180, y: 110 }, { x: 200, y: 120 }
                        ],
                        borderColor: 'red',
                        backgroundColor: 'transparent',
                        borderWidth: 2.5,
                        pointRadius: 3,
                        pointBackgroundColor: 'red',
                        lineTension: 0
                    },
                    {
                        label: 'Prislinje (P=40)',
                        data: [{ x: 0, y: 40 }, { x: 40, y: 40 }, { x: 40, y: 0 }],
                        borderColor: 'black',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        lineTension: 0 // Ensures perfectly straight lines
                    },
                    {
                        label: 'Forbrugeroverskud',
                        data: [{ x: 0, y: 100 }, { x: 40, y: 80 },{ x: 40, y: 40 }, { x: 0, y: 40 }],
                        backgroundColor: 'rgba(75, 192, 192, 0.7)',
                        borderColor: 'transparent',
                        fill: true,
                        pointRadius: 0,
                        lineTension: 0 // Ensures a sharp, straight-edged triangle
                    },
                    {
                        label: 'Producentoverskud',
                        data: [{ x: 0, y: 40 }, { x: 40, y: 40 }, { x: 0, y: 20 }],
                        backgroundColor: 'rgba(153, 102, 255, 0.5)',
                        borderColor: 'transparent',
                        fill: true,
                        pointRadius: 0,
                        lineTension: 0 // Ensures a sharp, straight-edged polygon
                    },
                   
                    {
                        label: 'DWL',
                        // These are the 3 corners of the DWL triangle
                        data: [{ x: 40, y: 40 }, { x: 40, y: 80 }, { x: 80, y: 60 }, { x: 40, y: 40 }],
                        backgroundColor: 'rgba(128, 128, 128, 0.5)', // Grey for DWL
                        borderColor: 'transparent',
                        fill: true,
                        pointRadius: 0,
                        lineTension: 0
                    }
                    ]
                },



                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    title: {
                        display: true,
                        text: 'Forbrugeroverskud og Producentoverskud (Pris = 80)',
                        fontSize: 18
                    },
                    scales: {
                        xAxes: [{
                            type: 'linear',
                            position: 'bottom',
                            scaleLabel: { display: true, labelString: 'Efterspørgsel i stk.' },
                            ticks: { beginAtZero: true, stepSize: 20 }
                        }],
                        yAxes: [{
                            scaleLabel: { display: true, labelString: 'Pris (kr.)' },
                            ticks: { beginAtZero: true, stepSize: 10 }
                        }]
                    },
                    tooltips: {
                        callbacks: {
                            title: function () {
                                return ''; // Remove the title (which displays the X-axis value)
                            },
                            label: function (tooltipItem, data) {
                                const datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';
                                let label = datasetLabel;
                                if (datasetLabel === 'Udbud' || datasetLabel === 'Efterspørgsel') {
                                    const yValue = tooltipItem.yLabel;
                                    const xValue = tooltipItem.xLabel;
                                    label = `${datasetLabel}: Pris: ${yValue} kr., Mængde: ${xValue} stk.`;
                                } else if (datasetLabel === 'Ligevægt (P=60, X=80)') {
                                    // For the equilibrium dashed line, show both X and Y if needed, or just hide
                                    return ''; // Hide label for the dashed line itself
                                }
                                return label;
                            }
                        }
                    },
                    plugins: {
                        datalabels: {
                            // This function controls how the label is formatted
                            formatter: function(value, context) {
                                const point = context.dataset.data[context.dataIndex];
                                return '(' + point.x + ' stk., ' + point.y + ' kr.)';
                            },
                            // This function controls which labels are shown
                            display: function(context) {
                                const datasetLabel = context.dataset.label;
                                // Only show labels for these two datasets
                                return datasetLabel === 'Efterspørgsel' || datasetLabel === 'Udbud';
                            },
                            color: '#333',
                            font: {
                                weight: 'bold',
                                size: 10,
                            },
                            align: 'end', // Position the label above the point
                            offset: 8     // Distance in pixels from the point
                        }
                    }
                },
                plugins: [ChartDataLabels]
            });
        });
    </script>
</body>

</html>